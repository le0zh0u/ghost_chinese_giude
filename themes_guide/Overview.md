# 概况
一份关于Ghost主题运作的说明

---

	更新的文档
	这篇文档会一直更新。如果你有一段时间没来了，可能需要查看更新日志，以便了解从你离开之后新增的功能点。你也可以通过惦记每一页的suggest edits来进行反馈。如果需要帮助，请访问Slack上的#themes频道。
	

##### 欢迎来到Ghost的主题开发文档！
   如果你是新人，在你进入开发之前，建议你从这里开始读起，并读完关于Ghost主题如何工作的说明页面。


   如果已经能熟练地开发Ghost的主题，你可以直接跳过「辅助参考」部分，我们正在努力将这个变成Ghost的主题词典。请务必保持关注更新日志，因为这是我们跟踪所有添加，删除和更改等操作时间的地方，有的变化可能会让你的主题变得支离破碎，或使它变得更加完美！


   是否想和其他主题开发者聊天呢？前往我们公共的Slack组的#themes频道吧。

### 关于Ghost主题 
Ghost主题正试图变得易于创建和维护。他们使用[Handlebars](http://handlebarsjs.com/)模板语言，它们几乎不涉及逻辑并通过[「助手」](http://themes.ghost.org/v0.8.0/docs/helpers)创建完全的模板（HTML部分）和任何逻辑（JavaScript部分）分离。这种分离能够使得设计者和开发者之间在开发时有更方便的合作。彻底学习Handlebars框架姜维帮你意识到主体化Ghost的全部力量，最后，我们继续扩展我们文档中的[Handlebars](http://themes.ghost.org/v0.8.0/docs/handlebars)部分。

使用Handlebars，你可以使用你想要的方式为主题创建静态的HTML和CSS，然后替代Handlebars表达式中的任何你想用的动态数据。举个例子，你可能想要使用`{{title}}`，这是用来引用叫`title`的数据的handlebars表达式，来输出一篇文章的标题。所有Handlebars表当时都包含在两个或三个花括号中，所以它们识别起来非常简单。

为了让Ghost更好的了解你的HTML主题文件，你需要使用`.hbs`作为文件的扩展名。Ghost页希望你的文件有特定的名称，有的名称是必须的。这些文件或者「模板」将被使用在你博客的不同部分，因此需要接收不同的数据。你可以在主题文档的[结构](http://themes.ghost.org/v0.8.0/docs/structure)章节找到更多信息。

主题模板存在层次结构。例如，一个模板能集成另外一个模板，这意味着你所有的基础模板不需要重复。这也支持局部模板，意味着你能在多个模板中共用HTML代码块。使用这些功能，这可能能减少重复的代码，并能让单独的模板关注于某一个业务逻辑，从而使你的主题更加的轻量级，并易于维护。

我们真挚地希望你将享受构建Ghost主题。

### 后絮
Ghost正视图平衡着一个完整的动态CMS样式的应用和一个静态文件生成器之间的关系。Ghost的管理页面是一个动态的客户端app，但博客页面是生成在服务器端的并发送给发送给浏览器静态的HTML。这是的Ghost的主题显示十分快，并允许博客页面进行大量的缓存。

如果你比较熟悉MVC，这可能有助于你更好的了解Ghost博客页面的思想，将你的模板作为页面。在服务器端，有一个拿取url请求并算出哪个控制器需要被使用到的路由器。那个控制器获取到从路由过来的信息，页面所需的数据（例如：模型）和你的主题模板（页面）并将它们放在一起创建完整的页面。这[上下文](http://themes.ghost.org/docs/structure#contexts)章节会在讲[结构](http://themes.ghost.org/v0.8.0/docs/structure)页面上详细解释这个。

在生产环境中，模板文件会在被发送到浏览器前被服务器加载和缓存。这意味着如果你改变了一个`*.hbs`的文件，你将不会看到那些变化除非你重启Ghost。但这不会发生在开发环境下，因此页面会花费更多一点的时间来生成，但它会让你创建肢体更加的方便。

所有的你主题提供的类似CSS、js和图片的资源文件会被用数据头告诉浏览器和其他缓存，这些文件可以被缓存一个较长的周期，并且`{{assert}}`表达式确保它们在恰当的时间的到刷新。~~~如果你使用了资源但没使用`{{assert}}`表达式，这将造成用户使用他们带有缓存的博客，并且任何使用一个次级目录，~~~因此使用`{{assert}}`表达式是非常有必要的。

目前，Ghost主题只支持服务标准的CSS和JS，但不支持CSS预处理等。但这并不意味着你不能使用这些工具来构建你的主题，只要你提供给Ghost的主题必须包含完整的CSS而不是源文件。